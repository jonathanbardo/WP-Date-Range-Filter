jQuery(function(b){var a={init:function(c){this.wrapper=c;this.save_interval(this.wrapper.find(".button-primary"),this.wrapper);this.$=this.wrapper.each(function(j,f){var d=b(f),m=d.find(".date-inputs"),q=d.find(".field-from"),r=d.find(".field-to"),g=r.prev(".date-remove"),o=q.prev(".date-remove"),n=d.children(".field-predefined"),l=b("").add(r).add(q);if(jQuery.datepicker){var e=parseFloat(date_range_filter.gmt_offset),h=new Date().getTimezoneOffset()/60*-1,s=e-h,k=new Date(),p=new Date(k.getTime()+(s*60*60*1000)),t="0";if(k.getDate()!==p.getDate()||k.getMonth()!==p.getMonth()){if(k.getTime()<p.getTime()){t="+1d"}else{t="-1d"}}if(undefined!==jQuery.fn.select2){n.select2()}l.datepicker({dateFormat:"yy/mm/dd",maxDate:t,defaultDate:p});l.datepicker("widget").addClass("date-range-filter-datepicker")}if(""!==q.val()){o.show()}if(""!==r.val()){g.show()}n.on({change:function(){var w=b(this).val(),v=n.find('[value="'+w+'"]'),i=v.data("to"),u=v.data("from");if("custom"===w){m.show();return false}else{m.hide();l.datepicker("hide")}q.val(u).trigger("change",[true]);r.val(i).trigger("change",[true]);if(jQuery.datepicker&&l.datepicker("widget").is(":visible")){l.datepicker("refresh").datepicker("hide")}},check_options:function(){if(""!==r.val()&&""!==q.val()){var i=n.find("option").filter('[data-to="'+r.val()+'"]').filter('[data-from="'+q.val()+'"]');if(0!==i.length){n.val(i.attr("value")).trigger("change",[true])}else{n.val("custom").trigger("change",[true])}}else{if(""===r.val()&&""===q.val()){n.val("").trigger("change",[true])}else{n.val("custom").trigger("change",[true])}}}});q.on("change",function(){if(""!==q.val()){o.show();r.datepicker("option","minDate",q.val())}else{o.hide()}if(true===arguments[arguments.length-1]){return false}n.trigger("check_options")});r.on("change",function(){if(""!==r.val()){g.show();q.datepicker("option","maxDate",r.val())}else{g.hide()}if(true===arguments[arguments.length-1]){return false}n.trigger("check_options")});n.trigger("change");b("").add(o).add(g).on("click",function(){b(this).next("input").val("").trigger("change")})})},save_interval:function(c){var d=this.wrapper;c.click(function(){var e={key:d.find("select.field-predefined").find(":selected").val(),start:d.find(".date-inputs .field-from").val(),end:d.find(".date-inputs .field-to").val()};b(this).attr("href",b(this).attr("href")+"&"+b.param(e))})},init_dashboard:function(c){c.on("click",function(){var d=b(this);d.children("span").toggleClass("dashicons-arrow-right dashicons-arrow-down");d.children("ul").toggle()})}};b(document).ready(function(){a.init(b("#date-range-filter-interval"));a.init_dashboard(b("#date_range_dashboard_widget div.inside .drf-dashboard-table td.manage-column:first-child"))})});